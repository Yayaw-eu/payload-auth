import { baModelFieldKeys, baModelKey } from "../../constants";
import { getSchemaCollectionSlug, getSchemaFieldName } from "../build-collections/utils/collection-schema";
import { set } from "../../utils/set";
export function configurePasskeyPlugin(plugin, resolvedSchemas) {
    const model = baModelKey.passkey;
    set(plugin, `schema.${model}.modelName`, getSchemaCollectionSlug(resolvedSchemas, model));
    set(plugin, `schema.${model}.fields.userId.fieldName`, getSchemaFieldName(resolvedSchemas, model, baModelFieldKeys.passkey.userId));
    set(plugin, `schema.${model}.fields.userId.references.model`, getSchemaCollectionSlug(resolvedSchemas, baModelKey.user));
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9iZXR0ZXItYXV0aC9wbHVnaW4vbGliL3Nhbml0aXplLWJldHRlci1hdXRoLW9wdGlvbnMvcGFzc2tleS1wbHVnaW4udHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYmFNb2RlbEZpZWxkS2V5cywgYmFNb2RlbEtleSB9IGZyb20gJ0AvYmV0dGVyLWF1dGgvcGx1Z2luL2NvbnN0YW50cydcbmltcG9ydCB7IGdldFNjaGVtYUNvbGxlY3Rpb25TbHVnLCBnZXRTY2hlbWFGaWVsZE5hbWUgfSBmcm9tICcuLi9idWlsZC1jb2xsZWN0aW9ucy91dGlscy9jb2xsZWN0aW9uLXNjaGVtYSdcbmltcG9ydCB7IHNldCB9IGZyb20gJy4uLy4uL3V0aWxzL3NldCdcbmltcG9ydCB0eXBlIHsgQmV0dGVyQXV0aFNjaGVtYXMgfSBmcm9tICdAL2JldHRlci1hdXRoL3R5cGVzJ1xuXG5leHBvcnQgZnVuY3Rpb24gY29uZmlndXJlUGFzc2tleVBsdWdpbihwbHVnaW46IGFueSwgcmVzb2x2ZWRTY2hlbWFzOiBCZXR0ZXJBdXRoU2NoZW1hcyk6IHZvaWQge1xuICBjb25zdCBtb2RlbCA9IGJhTW9kZWxLZXkucGFzc2tleVxuICBzZXQocGx1Z2luLCBgc2NoZW1hLiR7bW9kZWx9Lm1vZGVsTmFtZWAsIGdldFNjaGVtYUNvbGxlY3Rpb25TbHVnKHJlc29sdmVkU2NoZW1hcywgbW9kZWwpKVxuICBzZXQocGx1Z2luLCBgc2NoZW1hLiR7bW9kZWx9LmZpZWxkcy51c2VySWQuZmllbGROYW1lYCwgZ2V0U2NoZW1hRmllbGROYW1lKHJlc29sdmVkU2NoZW1hcywgbW9kZWwsIGJhTW9kZWxGaWVsZEtleXMucGFzc2tleS51c2VySWQpKVxuICBzZXQocGx1Z2luLCBgc2NoZW1hLiR7bW9kZWx9LmZpZWxkcy51c2VySWQucmVmZXJlbmNlcy5tb2RlbGAsIGdldFNjaGVtYUNvbGxlY3Rpb25TbHVnKHJlc29sdmVkU2NoZW1hcywgYmFNb2RlbEtleS51c2VyKSlcbn1cbiJdLCJuYW1lcyI6WyJiYU1vZGVsRmllbGRLZXlzIiwiYmFNb2RlbEtleSIsImdldFNjaGVtYUNvbGxlY3Rpb25TbHVnIiwiZ2V0U2NoZW1hRmllbGROYW1lIiwic2V0IiwiY29uZmlndXJlUGFzc2tleVBsdWdpbiIsInBsdWdpbiIsInJlc29sdmVkU2NoZW1hcyIsIm1vZGVsIiwicGFzc2tleSIsInVzZXJJZCIsInVzZXIiXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLGdCQUFnQixFQUFFQyxVQUFVLFFBQVEsa0JBQWdDO0FBQzdFLFNBQVNDLHVCQUF1QixFQUFFQyxrQkFBa0IsUUFBUSwrQ0FBOEM7QUFDMUcsU0FBU0MsR0FBRyxRQUFRLGtCQUFpQjtBQUdyQyxPQUFPLFNBQVNDLHVCQUF1QkMsTUFBVyxFQUFFQyxlQUFrQztJQUNwRixNQUFNQyxRQUFRUCxXQUFXUSxPQUFPO0lBQ2hDTCxJQUFJRSxRQUFRLENBQUMsT0FBTyxFQUFFRSxNQUFNLFVBQVUsQ0FBQyxFQUFFTix3QkFBd0JLLGlCQUFpQkM7SUFDbEZKLElBQUlFLFFBQVEsQ0FBQyxPQUFPLEVBQUVFLE1BQU0sd0JBQXdCLENBQUMsRUFBRUwsbUJBQW1CSSxpQkFBaUJDLE9BQU9SLGlCQUFpQlMsT0FBTyxDQUFDQyxNQUFNO0lBQ2pJTixJQUFJRSxRQUFRLENBQUMsT0FBTyxFQUFFRSxNQUFNLCtCQUErQixDQUFDLEVBQUVOLHdCQUF3QkssaUJBQWlCTixXQUFXVSxJQUFJO0FBQ3hIIn0=