import { baModelFieldKeys, baModelKey } from "../../constants";
import { set } from "../../utils/set";
import { getSchemaCollectionSlug, getSchemaFieldName } from "../build-collections/utils/collection-schema";
export function configureTwoFactorPlugin(plugin, resolvedSchemas) {
    const model = baModelKey.twoFactor;
    set(plugin, `schema.${model}.modelName`, getSchemaCollectionSlug(resolvedSchemas, model));
    set(plugin, `schema.${model}.fields.userId.fieldName`, getSchemaFieldName(resolvedSchemas, model, baModelFieldKeys.twoFactor.userId));
    set(plugin, `schema.${model}.fields.userId.references.model`, getSchemaCollectionSlug(resolvedSchemas, baModelKey.user));
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9iZXR0ZXItYXV0aC9wbHVnaW4vbGliL3Nhbml0aXplLWJldHRlci1hdXRoLW9wdGlvbnMvdHdvLWZhY3Rvci1wbHVnaW4udHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYmFNb2RlbEZpZWxkS2V5cywgYmFNb2RlbEtleSB9IGZyb20gJ0AvYmV0dGVyLWF1dGgvcGx1Z2luL2NvbnN0YW50cydcbmltcG9ydCB7IHNldCB9IGZyb20gJ0AvYmV0dGVyLWF1dGgvcGx1Z2luL3V0aWxzL3NldCdcbmltcG9ydCB7IGdldFNjaGVtYUNvbGxlY3Rpb25TbHVnLCBnZXRTY2hlbWFGaWVsZE5hbWUgfSBmcm9tICcuLi9idWlsZC1jb2xsZWN0aW9ucy91dGlscy9jb2xsZWN0aW9uLXNjaGVtYSdcbmltcG9ydCB0eXBlIHsgQmV0dGVyQXV0aFNjaGVtYXMgfSBmcm9tICdAL2JldHRlci1hdXRoL3R5cGVzJ1xuXG5leHBvcnQgZnVuY3Rpb24gY29uZmlndXJlVHdvRmFjdG9yUGx1Z2luKHBsdWdpbjogYW55LCByZXNvbHZlZFNjaGVtYXM6IEJldHRlckF1dGhTY2hlbWFzKTogdm9pZCB7XG4gIGNvbnN0IG1vZGVsID0gYmFNb2RlbEtleS50d29GYWN0b3JcbiAgc2V0KHBsdWdpbiwgYHNjaGVtYS4ke21vZGVsfS5tb2RlbE5hbWVgLCBnZXRTY2hlbWFDb2xsZWN0aW9uU2x1ZyhyZXNvbHZlZFNjaGVtYXMsIG1vZGVsKSlcbiAgc2V0KHBsdWdpbiwgYHNjaGVtYS4ke21vZGVsfS5maWVsZHMudXNlcklkLmZpZWxkTmFtZWAsIGdldFNjaGVtYUZpZWxkTmFtZShyZXNvbHZlZFNjaGVtYXMsIG1vZGVsLCBiYU1vZGVsRmllbGRLZXlzLnR3b0ZhY3Rvci51c2VySWQpKVxuICBzZXQocGx1Z2luLCBgc2NoZW1hLiR7bW9kZWx9LmZpZWxkcy51c2VySWQucmVmZXJlbmNlcy5tb2RlbGAsIGdldFNjaGVtYUNvbGxlY3Rpb25TbHVnKHJlc29sdmVkU2NoZW1hcywgYmFNb2RlbEtleS51c2VyKSlcbn1cbiJdLCJuYW1lcyI6WyJiYU1vZGVsRmllbGRLZXlzIiwiYmFNb2RlbEtleSIsInNldCIsImdldFNjaGVtYUNvbGxlY3Rpb25TbHVnIiwiZ2V0U2NoZW1hRmllbGROYW1lIiwiY29uZmlndXJlVHdvRmFjdG9yUGx1Z2luIiwicGx1Z2luIiwicmVzb2x2ZWRTY2hlbWFzIiwibW9kZWwiLCJ0d29GYWN0b3IiLCJ1c2VySWQiLCJ1c2VyIl0sIm1hcHBpbmdzIjoiQUFBQSxTQUFTQSxnQkFBZ0IsRUFBRUMsVUFBVSxRQUFRLGtCQUFnQztBQUM3RSxTQUFTQyxHQUFHLFFBQVEsa0JBQWdDO0FBQ3BELFNBQVNDLHVCQUF1QixFQUFFQyxrQkFBa0IsUUFBUSwrQ0FBOEM7QUFHMUcsT0FBTyxTQUFTQyx5QkFBeUJDLE1BQVcsRUFBRUMsZUFBa0M7SUFDdEYsTUFBTUMsUUFBUVAsV0FBV1EsU0FBUztJQUNsQ1AsSUFBSUksUUFBUSxDQUFDLE9BQU8sRUFBRUUsTUFBTSxVQUFVLENBQUMsRUFBRUwsd0JBQXdCSSxpQkFBaUJDO0lBQ2xGTixJQUFJSSxRQUFRLENBQUMsT0FBTyxFQUFFRSxNQUFNLHdCQUF3QixDQUFDLEVBQUVKLG1CQUFtQkcsaUJBQWlCQyxPQUFPUixpQkFBaUJTLFNBQVMsQ0FBQ0MsTUFBTTtJQUNuSVIsSUFBSUksUUFBUSxDQUFDLE9BQU8sRUFBRUUsTUFBTSwrQkFBK0IsQ0FBQyxFQUFFTCx3QkFBd0JJLGlCQUFpQk4sV0FBV1UsSUFBSTtBQUN4SCJ9